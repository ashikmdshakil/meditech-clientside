!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/operators"),require("@angular/common/http"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/operators","@angular/common/http","@angular/forms","@angular/common"],e):e(((t=t||self).ng2=t.ng2||{},t.ng2.completer={}),t.ng.core,t.Rx.Observable.prototype,t.ng.common.http,t.ng.forms,t.ng.common)}(this,(function(t,e,i,r,n,o){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function c(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function h(t,e,i,r){var n,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(o<3?n(s):o>3?n(e,i,s):n(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s}function p(t,e){return function(i,r){e(i,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t){return"function"==typeof t}var a=!1,d={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){a=t},get useDeprecatedSynchronousErrorHandling(){return a}};function f(t){setTimeout((function(){throw t}),0)}var g={closed:!0,next:function(t){},error:function(t){if(d.useDeprecatedSynchronousErrorHandling)throw t;f(t)},complete:function(){}},y=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}(),m=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),b=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var i,r=this._parentOrParents,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var s=0;s<r.length;++s)r[s].remove(this);if(u(n))try{n.call(this)}catch(p){e=p instanceof m?v(p.errors):[p]}if(y(o)){s=-1;for(var c=o.length;++s<c;){var h=o[s];if(null!==(i=h)&&"object"==typeof i)try{h.unsubscribe()}catch(p){e=e||[],p instanceof m?e=e.concat(v(p.errors)):e.push(p)}}}if(e)throw new m(e)}},t.prototype.add=function(e){var i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var r=i;(i=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=i._parentOrParents;if(null===n)i._parentOrParents=this;else if(n instanceof t){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[i]:o.push(i),i},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function v(t){return t.reduce((function(t,e){return t.concat(e instanceof m?e.errors:e)}),[])}var w=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),S=function(t){function e(i,r,n){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=g;break;case 1:if(!i){o.destination=g;break}if("object"==typeof i){i instanceof e?(o.syncErrorThrowable=i.syncErrorThrowable,o.destination=i,i.add(o)):(o.syncErrorThrowable=!0,o.destination=new _(o,i));break}default:o.syncErrorThrowable=!0,o.destination=new _(o,i,r,n)}return o}return c(e,t),e.prototype[w]=function(){return this},e.create=function(t,i,r){var n=new e(t,i,r);return n.syncErrorThrowable=!1,n},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(b),_=function(t){function e(e,i,r,n){var o,s=t.call(this)||this;s._parentSubscriber=e;var c=s;return u(i)?o=i:i&&(o=i.next,r=i.error,n=i.complete,i!==g&&(u((c=Object.create(i)).unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=o,s._error=r,s._complete=n,s}return c(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;d.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=d.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):f(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;f(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};d.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),d.useDeprecatedSynchronousErrorHandling)throw i;f(i)}},e.prototype.__tryOrSetError=function(t,e,i){if(!d.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return d.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(f(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(S),O=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function x(t){return t}function C(t){return 0===t.length?x:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var I=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var r=this.operator,n=function(t,e,i){if(t){if(t instanceof S)return t;if(t[w])return t[w]()}return t||e||i?new S(t,e,i):new S(g)}(t,e,i);if(n.add(r?r.call(n,this.source):this.source||d.useDeprecatedSynchronousErrorHandling&&!n.syncErrorThrowable?this._subscribe(n):this._trySubscribe(n)),d.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){d.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof S?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var i=this;return new(e=E(e))((function(e,r){var n;n=i.subscribe((function(e){try{t(e)}catch(i){r(i),n&&n.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[O]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:C(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=E(t))((function(t,i){var r;e.subscribe((function(t){return r=t}),(function(t){return i(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function E(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}var j=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),H=function(t){function e(e,i){var r=t.call(this)||this;return r.subject=e,r.subscriber=i,r.closed=!1,r}return c(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(b),T=function(t){function e(e){var i=t.call(this,e)||this;return i.destination=e,i}return c(e,t),e}(S),R=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return c(e,t),e.prototype[w]=function(){return new T(this)},e.prototype.lift=function(t){var e=new F(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new j;if(!this.isStopped)for(var e=this.observers,i=e.length,r=e.slice(),n=0;n<i;n++)r[n].next(t)},e.prototype.error=function(t){if(this.closed)throw new j;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,r=e.slice(),n=0;n<i;n++)r[n].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new j;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),r=0;r<e;r++)i[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new j;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new j;return this.hasError?(t.error(this.thrownError),b.EMPTY):this.isStopped?(t.complete(),b.EMPTY):(this.observers.push(t),new H(this,t))},e.prototype.asObservable=function(){var t=new I;return t.source=this,t},e.create=function(t,e){return new F(t,e)},e}(I),F=function(t){function e(e,i){var r=t.call(this)||this;return r.destination=e,r.source=i,r}return c(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):b.EMPTY},e}(R),k=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.scheduler=e,r.work=i,r.pending=!1,r}return c(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var i=!1,r=void 0;try{this.work(t)}catch(n){i=!0,r=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,i){return t.call(this)||this}return c(e,t),e.prototype.schedule=function(t,e){return this},e}(b)),L=function(){function t(e,i){void 0===i&&(i=t.now),this.SchedulerAction=e,this.now=i}return t.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},t.now=function(){return Date.now()},t}();function D(t){return t&&"function"==typeof t.schedule}var M=new(function(t){function e(i,r){void 0===r&&(r=L.now);var n=t.call(this,i,(function(){return e.delegate&&e.delegate!==n?e.delegate.now():r()}))||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return c(e,t),e.prototype.schedule=function(i,r,n){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(i,r,n):t.prototype.schedule.call(this,i,r,n)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}},e}(L))(k);function P(t){return!y(t)&&t-parseFloat(t)+1>=0}function V(t,e,i){void 0===t&&(t=0);var r=-1;return P(e)?r=Number(e)<1?1:Number(e):D(e)&&(i=e),D(i)||(i=M),new I((function(e){var n=P(t)?t:+t-i.now();return i.schedule(N,n,{index:0,period:r,subscriber:e})}))}function N(t){var e=t.index,i=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===i)return r.complete();t.index=e+1,this.schedule(t,i)}}function A(t){return null==t}var B=function(t){function e(){var e=t.call(this)||this;return e._searchFields=null,e._titleField=null,e._descriptionField=void 0,e._imageField=void 0,e}return c(e,t),e.prototype.cancel=function(){},e.prototype.searchFields=function(t){return this._searchFields=t,this},e.prototype.titleField=function(t){return this._titleField=t,this},e.prototype.descriptionField=function(t){return this._descriptionField=t,this},e.prototype.imageField=function(t){return this._imageField=t,this},e.prototype.convertToItem=function(t){var e,i=null,r=null;return"string"!=typeof(e=this._titleField?this.extractTitle(t):t)&&(e=JSON.stringify(e)),this._descriptionField&&(r=this.extractValue(t,this._descriptionField)),this._imageField&&(i=this.extractValue(t,this._imageField)),A(e)?null:{description:r,image:i,originalObject:t,title:e}},e.prototype.extractMatches=function(t,e){var i=this,r=this._searchFields?this._searchFields.split(","):null;return null!=this._searchFields&&""!==e?t.filter((function(t){return(r?i.extractBySearchFields(r,t):[t]).some((function(t){return t.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0}))})):t},e.prototype.extractTitle=function(t){var e=this;return this._titleField?this._titleField.split(",").map((function(i){return e.extractValue(t,i)})).reduce((function(t,e){return t?t+" "+e:e})):""},e.prototype.extractValue=function(t,e){var i;if(e){i=t;for(var r=0,n=e.split(".");r<n.length;r++)e=n[r],i&&(i=i[e])}else i=t;return i},e.prototype.processResults=function(t){var e,i=[];if(t&&t.length>0)for(e=0;e<t.length;e++){var r=this.convertToItem(t[e]);r&&i.push(r)}return i},e.prototype.extractBySearchFields=function(t,e){var i=this;return t.map((function(t){return i.extractValue(e,t)})).filter((function(t){return!!t}))},e}(R),U=function(t){function r(){var i=t.call(this)||this;return i.dataSourceChange=new e.EventEmitter,i._data=[],i.savedTerm=null,i}return c(r,t),r.prototype.data=function(t){var e=this;return t instanceof I?t.pipe(i.catchError((function(){return[]}))).subscribe((function(t){e._data=t,e.savedTerm&&e.search(e.savedTerm),e.dataSourceChange.emit()})):this._data=t,this.dataSourceChange.emit(),this},r.prototype.search=function(t){if(this._data){this.savedTerm=null;var e=this.extractMatches(this._data,t);this.next(this.processResults(e))}else this.savedTerm=t},r.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},r}(B),z=function(t){function r(i){var r=t.call(this)||this;return r.http=i,r.dataSourceChange=new e.EventEmitter,r._remoteUrl=null,r.remoteSearch=null,r._urlFormater=null,r._dataField=null,r}return c(r,t),r.prototype.remoteUrl=function(t){return this._remoteUrl=t,this.dataSourceChange.emit(),this},r.prototype.urlFormater=function(t){this._urlFormater=t},r.prototype.dataField=function(t){this._dataField=t},r.prototype.requestOptions=function(t){this._requestOptions=t},r.prototype.search=function(t){var e,r=this;this.cancel(),e=this._urlFormater?this._urlFormater(t):this._remoteUrl+encodeURIComponent(t),this.remoteSearch=this.http.get(e,Object.assign({},this._requestOptions)).pipe(i.map((function(e){var i=r.extractValue(e,r._dataField);return r.extractMatches(i,t)})),i.catchError((function(){return[]}))).subscribe((function(t){var e=r.processResults(t);r.next(e)}))},r.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},r.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},r}(B),$=function(){function t(){}return t.prototype.create=function(){return new U},h([e.Injectable()],t)}(),q=function(){function t(t){this.http=t}return t.prototype.create=function(){return new z(this.http)},h([e.Injectable(),l("design:paramtypes",[r.HttpClient])],t)}(),K=function(){function t(t,e){this.localDataFactory=t,this.remoteDataFactory=e}return t.prototype.local=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=""),this.localDataFactory.create().data(t).searchFields(e).titleField(i)},t.prototype.remote=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=""),this.remoteDataFactory.create().remoteUrl(t).searchFields(e).titleField(i)},h([e.Injectable(),l("design:paramtypes",[$,q])],t)}(),Y=function(){function t(){this.selected=new e.EventEmitter,this.highlighted=new e.EventEmitter,this.opened=new e.EventEmitter,this.dataSourceChange=new e.EventEmitter,this.list=null,this.dropdown=null,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1,this._autoHighlightIndex=null}return t.prototype.registerList=function(t){this.list=t},t.prototype.registerDropdown=function(t){this.dropdown=t},t.prototype.onHighlighted=function(t){this.highlighted.emit(t),this._hasHighlighted=!!t},t.prototype.onSelected=function(t,e){void 0===e&&(e=!0),this.selected.emit(t),t&&(this._hasSelected=!0),e&&this.clear()},t.prototype.onDataSourceChange=function(){this.hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.dataSourceChange.emit()},t.prototype.search=function(t){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(t)},t.prototype.clear=function(){this._hasHighlighted=!1,this.isOpen=!1,this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear()},t.prototype.selectCurrent=function(){this.dropdown&&this.dropdown.selectCurrent()},t.prototype.nextRow=function(){this.dropdown&&this.dropdown.nextRow()},t.prototype.prevRow=function(){this.dropdown&&this.dropdown.prevRow()},t.prototype.hasHighlighted=function(){return this._hasHighlighted},t.prototype.cancelBlur=function(t){this._cancelBlur=t},t.prototype.isCancelBlur=function(){return this._cancelBlur},t.prototype.open=function(){!this._isOpen&&this.list&&(this.isOpen=!0,this.list.open())},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(t){this._isOpen=t,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHighlightIndex",{get:function(){return this._autoHighlightIndex},set:function(t){this._autoHighlightIndex=t,this.dropdown&&this.dropdown.highlightRow(this._autoHighlightIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelected",{get:function(){return this._hasSelected},enumerable:!0,configurable:!0}),h([e.Output(),l("design:type",Object)],t.prototype,"selected",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"highlighted",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"opened",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"dataSourceChange",void 0),h([e.Directive({selector:"[ctrCompleter]"})],t)}(),J=function(t,e){this.row=t,this.index=e},Z=function(){function t(t,e,i){this.completer=t,this.el=e,this.zone=i,this.rows=[],this.isScrollOn=!1,this._rowMouseDown=!1,this.completer.registerDropdown(this)}return t.prototype.ngOnDestroy=function(){this.completer.registerDropdown(null)},t.prototype.ngAfterViewInit=function(){var t=this,e=getComputedStyle(this.el.nativeElement),i=this.completer.autoHighlightIndex;this.isScrollOn=!!e.maxHeight&&"auto"===e.overflowY,i&&this.zone.run((function(){t.highlightRow(i)}))},t.prototype.onMouseDown=function(t){var e=this;this._rowMouseDown?this._rowMouseDown=!1:(this.completer.cancelBlur(!0),this.zone.run((function(){e.completer.cancelBlur(!1)})))},t.prototype.registerRow=function(t){var e=this.rows.findIndex((function(e){return e.index===t.index}));e>=0?this.rows[e]=t:this.rows.push(t)},t.prototype.unregisterRow=function(t){var e=this.rows.findIndex((function(e){return e.index===t}));this.rows.splice(e,1),this.currHighlighted&&t===this.currHighlighted.index&&this.highlightRow(null)},t.prototype.highlightRow=function(t){var e=this.rows.find((function(e){return e.index===t}));if(A(t)||t<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(e&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=e,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){var i=this.dropdownRowTop();if(!i)return;if(i<0)this.dropdownScrollTopTo(i-1);else{var r=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<r.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(r)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(r)<r.getBoundingClientRect().top&&this.dropdownScrollTopTo(r.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}},t.prototype.clear=function(){this.rows=[]},t.prototype.onSelected=function(t){this.completer.onSelected(t)},t.prototype.rowMouseDown=function(){this._rowMouseDown=!0},t.prototype.selectCurrent=function(){this.currHighlighted&&this.currHighlighted.row?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())},t.prototype.nextRow=function(){var t=0;this.currHighlighted&&(t=this.currHighlighted.index+1),this.highlightRow(t)},t.prototype.prevRow=function(){var t=-1;this.currHighlighted&&(t=this.currHighlighted.index-1),this.highlightRow(t)},t.prototype.dropdownScrollTopTo=function(t){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+t},t.prototype.dropdownRowTop=function(){if(this.currHighlighted)return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))},t.prototype.dropdownHeight=function(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)},t.prototype.dropdownRowOffsetHeight=function(t){var e=getComputedStyle(t.parentElement);return t.parentElement.offsetHeight+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)},h([e.HostListener("mousedown",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onMouseDown",null),h([e.Directive({selector:"[ctrDropdown]"}),p(0,e.Host()),l("design:paramtypes",[Y,e.ElementRef,e.NgZone])],t)}(),G=function(){function t(t,i,r){var n=this;this.completer=t,this.ngModel=i,this.el=r,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.ngModelChange=new e.EventEmitter,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe((function(t){t&&(n.searchStr=n.clearSelected?"":t.title,n.ngModelChange.emit(n.searchStr))})),this.completer.highlighted.subscribe((function(t){n.fillHighlighted&&(t?(n._displayStr=t.title,n.ngModelChange.emit(t.title)):(n._displayStr=n.searchStr,n.ngModelChange.emit(n.searchStr)))})),this.completer.dataSourceChange.subscribe((function(){n.completer.search(n.searchStr)})),this.ngModel.valueChanges&&this.ngModel.valueChanges.subscribe((function(t){A(t)||n._displayStr===t||(n.searchStr!==t&&n.completer.search(t),n.searchStr=t)}))}return t.prototype.keyupHandler=function(t){37!==t.keyCode&&39!==t.keyCode&&9!==t.keyCode&&(38===t.keyCode||13===t.keyCode?t.preventDefault():40===t.keyCode?(t.preventDefault(),this.completer.search(this.searchStr)):27===t.keyCode&&this.completer.isOpen&&(this.restoreSearchValue(),this.completer.clear(),t.stopPropagation(),t.preventDefault()))},t.prototype.pasteHandler=function(t){this.completer.open()},t.prototype.keydownHandler=function(t){var e=t.keyCode||t.which;13===e?(this.completer.hasHighlighted()&&t.preventDefault(),this.handleSelection()):40===e?(t.preventDefault(),this.completer.open(),this.completer.nextRow()):38===e?(t.preventDefault(),this.completer.prevRow()):9===e?this.handleSelection():8===e?this.completer.open():27===e?(t.preventDefault(),this.completer.isOpen&&t.stopPropagation()):0===e||16===e||20===e||!(e<=112||e>=123)||t.ctrlKey||t.metaKey||t.altKey||this.completer.open()},t.prototype.onBlur=function(t){var e=this;this.completer.isCancelBlur()?setTimeout((function(){e.el.nativeElement.focus()}),0):this.completer.isOpen&&(this.blurTimer=V(200).pipe(i.take(1)).subscribe((function(){return e.doBlur()})))},t.prototype.onfocus=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.selectOnFocus&&this.el.nativeElement.select(),this.openOnFocus&&this.completer.open()},t.prototype.onClick=function(t){this.selectOnClick&&this.el.nativeElement.select(),this.openOnClick&&(this.completer.isOpen?this.completer.clear():this.completer.open())},Object.defineProperty(t.prototype,"searchStr",{get:function(){return this._searchStr},set:function(t){this._searchStr=t,this._displayStr=t},enumerable:!0,configurable:!0}),t.prototype.handleSelection=function(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):(this.clearUnselected&&!this.completer.hasSelected&&(this.searchStr="",this.ngModelChange.emit(this.searchStr)),this.completer.clear())},t.prototype.restoreSearchValue=function(){this.fillHighlighted&&this._displayStr!==this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))},t.prototype.doBlur=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.clearUnselected&&!this.completer.hasSelected?(this.searchStr="",this.ngModelChange.emit(this.searchStr)):this.restoreSearchValue(),this.completer.clear()},h([e.Input("clearSelected"),l("design:type",Object)],t.prototype,"clearSelected",void 0),h([e.Input("clearUnselected"),l("design:type",Object)],t.prototype,"clearUnselected",void 0),h([e.Input("overrideSuggested"),l("design:type",Object)],t.prototype,"overrideSuggested",void 0),h([e.Input("fillHighlighted"),l("design:type",Object)],t.prototype,"fillHighlighted",void 0),h([e.Input("openOnFocus"),l("design:type",Object)],t.prototype,"openOnFocus",void 0),h([e.Input("openOnClick"),l("design:type",Object)],t.prototype,"openOnClick",void 0),h([e.Input("selectOnClick"),l("design:type",Object)],t.prototype,"selectOnClick",void 0),h([e.Input("selectOnFocus"),l("design:type",Object)],t.prototype,"selectOnFocus",void 0),h([e.Output(),l("design:type",e.EventEmitter)],t.prototype,"ngModelChange",void 0),h([e.HostListener("keyup",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"keyupHandler",null),h([e.HostListener("paste",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"pasteHandler",null),h([e.HostListener("keydown",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"keydownHandler",null),h([e.HostListener("blur",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onBlur",null),h([e.HostListener("focus",[]),l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],t.prototype,"onfocus",null),h([e.HostListener("click",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onClick",null),h([e.Directive({selector:"[ctrInput]"}),p(0,e.Host()),l("design:paramtypes",[Y,n.NgModel,e.ElementRef])],t)}(),W=function(t,e,i,r){this.results=t,this.searching=e,this.searchInitialized=i,this.isOpen=r},Q=function(){function t(t,e,i,r,n){this.completer=t,this.templateRef=e,this.viewContainer=i,this.cd=r,this.zone=n,this.ctrListMinSearchLength=3,this.ctrListPause=10,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.ctrListDisplaySearching=!0,this._dataService=null,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new W([],!1,!1,!1),this._initialValue=null,this.viewRef=null}return t.prototype.ngOnInit=function(){this.completer.registerList(this),this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,new W([],!1,!1,!1))},Object.defineProperty(t.prototype,"dataService",{set:function(t){this._dataService=t,this.dataServiceSubscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{set:function(t){var e=this;this._dataService&&"function"==typeof this._dataService.convertToItem?this.zone.run((function(){var i=e._dataService&&e._dataService.convertToItem(t);i&&e.completer.onSelected(i,!1)})):this._dataService||(this._initialValue=t)},enumerable:!0,configurable:!0}),t.prototype.search=function(t){var e=this;!A(t)&&t.length>=this.ctrListMinSearchLength&&this.term!==t?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctrListDisplaySearching&&(this.ctx.results=[]),this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=V(this.ctrListPause).pipe(i.take(1)).subscribe((function(){e.searchTimerComplete(t)}))):!A(t)&&t.length<this.ctrListMinSearchLength&&(this.clear(),this.term="")},t.prototype.clear=function(){var t=this;this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=V(50).pipe(i.take(1)).subscribe((function(){t._clear()}))},t.prototype.open=function(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()},t.prototype.isOpen=function(t){this.ctx.isOpen=t},t.prototype._clear=function(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear(),this.viewRef=null},t.prototype.searchTimerComplete=function(t){A(t)||t.length<this.ctrListMinSearchLength?this.ctx.searching=!1:(this.term=t,this._dataService&&this._dataService.search(t))},t.prototype.refreshTemplate=function(){this.viewRef?this.viewRef.destroyed||(this.viewRef.context.isOpen=this.ctx.isOpen,this.viewRef.context.results=this.ctx.results,this.viewRef.context.searching=this.ctx.searching,this.viewRef.context.searchInitialized=this.ctx.searchInitialized,this.viewRef.detectChanges()):this.viewRef=this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()},t.prototype.getBestMatchIndex=function(){var t=this;if(!this.ctx.results||!this.term)return null;var e=this.ctx.results.findIndex((function(e){return e.title.toLowerCase()===t.term.toLocaleLowerCase()}));return e<0&&(e=this.ctx.results.findIndex((function(e){return e.title.toLowerCase().startsWith(t.term.toLocaleLowerCase())}))),e<0&&(e=this.ctx.results.findIndex((function(e){return e.title.toLowerCase().includes(t.term.toLocaleLowerCase())}))),e<0?null:e},t.prototype.dataServiceSubscribe=function(){var t=this;this._dataService&&(this._dataService.subscribe((function(e){t.ctx.searchInitialized=!0,t.ctx.searching=!1,t.ctx.results=e,t.ctrListAutoMatch&&e&&1===e.length&&e[0].title&&!A(t.term)&&e[0].title.toLocaleLowerCase()===t.term.toLocaleLowerCase()?t.completer.onSelected(e[0]):(t.refreshTemplate(),t.ctrListAutoHighlight&&(t.completer.autoHighlightIndex=t.getBestMatchIndex()))}),(function(t){return console.error(t),console.error("Unexpected error in dataService: errors should be handled by the dataService Observable"),[]})),this._dataService.dataSourceChange&&this._dataService.dataSourceChange.subscribe((function(){t.term=null,t.ctx.searchInitialized=!1,t.ctx.searching=!1,t.ctx.results=[],t.refreshTemplate(),t.completer.onDataSourceChange()})))},h([e.Input(),l("design:type",Object)],t.prototype,"ctrListMinSearchLength",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"ctrListPause",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"ctrListAutoMatch",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"ctrListAutoHighlight",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"ctrListDisplaySearching",void 0),h([e.Input("ctrList"),l("design:type",Object),l("design:paramtypes",[Object])],t.prototype,"dataService",null),h([e.Input("ctrListInitialValue"),l("design:type",Object),l("design:paramtypes",[Object])],t.prototype,"initialValue",null),h([e.Directive({selector:"[ctrList]"}),p(0,e.Host()),l("design:paramtypes",[Y,e.TemplateRef,e.ViewContainerRef,e.ChangeDetectorRef,e.NgZone])],t)}(),X=function(){function t(t,e,i){this.el=t,this.renderer=e,this.dropdown=i,this.selected=!1,this._rowIndex=0,this._item=null}return t.prototype.ngOnDestroy=function(){this._rowIndex&&this.dropdown.unregisterRow(this._rowIndex)},Object.defineProperty(t.prototype,"ctrRow",{set:function(t){this._rowIndex=t,this.dropdown.registerRow(new J(this,this._rowIndex))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataItem",{set:function(t){this._item=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.dropdown.onSelected(this._item)},t.prototype.onMouseEnter=function(t){this.dropdown.highlightRow(this._rowIndex)},t.prototype.onMouseDown=function(t){this.dropdown.rowMouseDown()},t.prototype.setHighlighted=function(t){this.selected=t,this.selected?this.renderer.addClass(this.el.nativeElement,"completer-selected-row"):this.renderer.removeClass(this.el.nativeElement,"completer-selected-row")},t.prototype.getNativeElement=function(){return this.el.nativeElement},t.prototype.getDataItem=function(){return this._item},h([e.Input(),l("design:type",Number),l("design:paramtypes",[Number])],t.prototype,"ctrRow",null),h([e.Input(),l("design:type",Object),l("design:paramtypes",[Object])],t.prototype,"dataItem",null),h([e.HostListener("click",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onClick",null),h([e.HostListener("mouseenter",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onMouseEnter",null),h([e.HostListener("mousedown",["$event"]),l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],t.prototype,"onMouseDown",null),h([e.Directive({selector:"[ctrRow]"}),p(2,e.Host()),l("design:paramtypes",[e.ElementRef,e.Renderer2,Z])],t)}(),tt=function(){function t(){this.text="",this.searchStr="",this.matchClass="",this.type="",this.parts=[]}return t.prototype.ngOnInit=function(){if(this.searchStr){for(var t=this.text.toLowerCase(),e=t.indexOf(this.searchStr.toLowerCase()),i=0;e>=0;){var r=this.text.slice(e,e+this.searchStr.length);if(0===e)this.parts.push({isMatch:!0,text:r}),i+=this.searchStr.length;else if(e>0){var n=this.text.slice(i,e);this.parts.push({isMatch:!1,text:n}),this.parts.push({isMatch:!0,text:r}),i+=this.searchStr.length+n.length}e=t.indexOf(this.searchStr.toLowerCase(),i)}i<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(i,this.text.length)})}else this.parts.push({isMatch:!1,text:this.text})},h([e.Input(),l("design:type",String)],t.prototype,"text",void 0),h([e.Input(),l("design:type",String)],t.prototype,"searchStr",void 0),h([e.Input(),l("design:type",String)],t.prototype,"matchClass",void 0),h([e.Input(),l("design:type",String)],t.prototype,"type",void 0),h([e.Component({selector:"completer-list-item",template:'<span class="completer-list-item-holder" [ngClass]= "{\'completer-title\': type === \'title\', \'completer-description\': type === \'description\'}" >\n        <span class="completer-list-item" *ngFor="let part of parts" [ngClass]= "part.isMatch ? matchClass : null">{{part.text}}</span>\n    </span>'})],t)}(),et=function(){},it={multi:!0,provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return rt}))},rt=function(){function t(t,i){this.completerService=t,this.cdr=i,this.inputName="",this.inputId="",this.pause=10,this.minSearchLength=3,this.maxChars=524288,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.openOnClick=!1,this.selectOnClick=!1,this.selectOnFocus=!1,this.autoHighlight=!1,this.selected=new e.EventEmitter,this.highlighted=new e.EventEmitter,this.blurEvent=new e.EventEmitter,this.click=new e.EventEmitter,this.focusEvent=new e.EventEmitter,this.opened=new e.EventEmitter,this.keyup=new e.EventEmitter,this.keydown=new e.EventEmitter,this.control=new n.FormControl(""),this.displaySearching=!0,this.displayNoResults=!0,this._textNoResults="No results found",this._textSearching="Searching...",this._onTouchedCallback=et,this._onChangeCallback=et,this._focus=!1,this._open=!1,this._searchStr=""}return Object.defineProperty(t.prototype,"value",{get:function(){return this.searchStr},set:function(t){t!==this.searchStr&&(this.searchStr=t),this._onChangeCallback(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchStr",{get:function(){return this._searchStr},set:function(t){this._searchStr="string"==typeof t||A(t)?t:JSON.stringify(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.autofocus&&(this._focus=!0),this.completer&&(this.completer.selected.subscribe((function(e){t.selected.emit(e)})),this.completer.highlighted.subscribe((function(e){t.highlighted.emit(e)})),this.completer.opened.subscribe((function(e){t._open=e,t.opened.emit(e)})))},t.prototype.ngAfterViewChecked=function(){var t=this;this._focus&&setTimeout((function(){t.ctrInput&&(t.ctrInput.nativeElement.focus(),t._focus=!1)}),0)},t.prototype.onTouched=function(){this._onTouchedCallback()},t.prototype.writeValue=function(t){this.searchStr=t},t.prototype.registerOnChange=function(t){this._onChangeCallback=t},t.prototype.registerOnTouched=function(t){this._onTouchedCallback=t},t.prototype.setDisabledState=function(t){this.disableInput=t},Object.defineProperty(t.prototype,"datasource",{set:function(t){t&&(this.dataService=t instanceof Array?this.completerService.local(t):"string"==typeof t?this.completerService.remote(t):t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textNoResults",{set:function(t){this._textNoResults!==t&&(this._textNoResults=t,this.displayNoResults=!!this._textNoResults&&"false"!==this._textNoResults)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textSearching",{set:function(t){this._textSearching!==t&&(this._textSearching=t,this.displaySearching=!!this._textSearching&&"false"!==this._textSearching)},enumerable:!0,configurable:!0}),t.prototype.onBlur=function(){this.blurEvent.emit(),this.onTouched(),this.cdr.detectChanges()},t.prototype.onFocus=function(){this.focusEvent.emit(),this.onTouched()},t.prototype.onClick=function(t){this.click.emit(t),this.onTouched()},t.prototype.onKeyup=function(t){this.keyup.emit(t),t.stopPropagation()},t.prototype.onKeydown=function(t){this.keydown.emit(t),t.stopPropagation()},t.prototype.onChange=function(t){this.value=t},t.prototype.open=function(){this.completer&&this.completer.open()},t.prototype.close=function(){this.completer&&this.completer.clear()},t.prototype.focus=function(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0},t.prototype.blur=function(){this.ctrInput?this.ctrInput.nativeElement.blur():this._focus=!1},t.prototype.isOpen=function(){return this._open},h([e.Input(),l("design:type",Object)],t.prototype,"dataService",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"inputName",void 0),h([e.Input(),l("design:type",String)],t.prototype,"inputId",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"pause",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"minSearchLength",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"maxChars",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"overrideSuggested",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"clearSelected",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"clearUnselected",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"fillHighlighted",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"placeholder",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"matchClass",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"fieldTabindex",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"autoMatch",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"disableInput",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"inputClass",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"autofocus",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"openOnFocus",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"openOnClick",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"selectOnClick",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"selectOnFocus",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"initialValue",void 0),h([e.Input(),l("design:type",Object)],t.prototype,"autoHighlight",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"selected",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"highlighted",void 0),h([e.Output("blur"),l("design:type",Object)],t.prototype,"blurEvent",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"click",void 0),h([e.Output("focus"),l("design:type",Object)],t.prototype,"focusEvent",void 0),h([e.Output(),l("design:type",Object)],t.prototype,"opened",void 0),h([e.Output(),l("design:type",e.EventEmitter)],t.prototype,"keyup",void 0),h([e.Output(),l("design:type",e.EventEmitter)],t.prototype,"keydown",void 0),h([e.ViewChild(Y,{static:!1}),l("design:type",Object)],t.prototype,"completer",void 0),h([e.ViewChild("ctrInput",{static:!1}),l("design:type",Object)],t.prototype,"ctrInput",void 0),h([e.Input(),l("design:type",Object),l("design:paramtypes",[Object])],t.prototype,"datasource",null),h([e.Input(),l("design:type",String),l("design:paramtypes",[String])],t.prototype,"textNoResults",null),h([e.Input(),l("design:type",String),l("design:paramtypes",[String])],t.prototype,"textSearching",null),h([e.Component({selector:"ng2-completer",template:'\n        <div class="completer-holder" ctrCompleter>\n            <input #ctrInput [attr.id]="inputId.length > 0 ? inputId : null" type="search"\n                class="completer-input" ctrInput [ngClass]="inputClass"\n                [(ngModel)]="searchStr" (ngModelChange)="onChange($event)"\n                [attr.name]="inputName" [placeholder]="placeholder"\n                [attr.maxlength]="maxChars" [tabindex]="fieldTabindex" [disabled]="disableInput"\n                [clearSelected]="clearSelected" [clearUnselected]="clearUnselected"\n                [overrideSuggested]="overrideSuggested" [openOnFocus]="openOnFocus" [fillHighlighted]="fillHighlighted"\n                [openOnClick]="openOnClick" [selectOnClick]="selectOnClick" [selectOnFocus]="selectOnFocus"\n                (blur)="onBlur()" (focus)="onFocus()" (keyup)="onKeyup($event)"\n                (keydown)="onKeydown($event)" (click)="onClick($event)"\n                autocomplete="off" autocorrect="off" autocapitalize="off" />\n\n            <div class="completer-dropdown-holder"\n                *ctrList="dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    displaySearching: displaySearching;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;">\n                <div class="completer-dropdown" ctrDropdown\n                    *ngIf="isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))">\n                    <div *ngIf="searchActive && displaySearching" class="completer-searching">{{ _textSearching }}</div>\n                    <div *ngIf="!searchActive && (!items || items?.length === 0)"\n                    class="completer-no-results">{{ _textNoResults }}</div>\n                    <div class="completer-row-wrapper" *ngFor="let item of items; let rowIndex=index">\n                        <div class="completer-row" [ctrRow]="rowIndex" [dataItem]="item">\n                            <div *ngIf="item.image || item.image === \'\'" class="completer-image-holder">\n                                <img *ngIf="item.image != \'\'" src="{{item.image}}" class="completer-image" />\n                                <div *ngIf="item.image === \'\'" class="completer-image-default"></div>\n                            </div>\n                            <div class="completer-item-text"\n                            [ngClass]="{\'completer-item-text-image\': item.image || item.image === \'\' }">\n                                <completer-list-item\n                                class="completer-title" [text]="item.title" [matchClass]="matchClass"\n                                [searchStr]="searchStr" [type]="\'title\'"></completer-list-item>\n                                <completer-list-item *ngIf="item.description && item.description != \'\'"\n                                class="completer-description" [text]="item.description"\n                                    [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'description\'">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:['\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px;\n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    '],providers:[it]}),l("design:paramtypes",[K,e.ChangeDetectorRef])],t)}(),nt=[K,$,q],ot=function(){function t(){}var i;return i=t,t.forRoot=function(){return{ngModule:i,providers:nt}},t.forChild=function(){return{ngModule:i,providers:nt}},i=h([e.NgModule({declarations:[tt,Y,Z,G,Q,X,rt],exports:[tt,Y,Z,G,Q,X,rt],imports:[o.CommonModule,n.FormsModule],providers:nt})],t)}();t.CompleterCmp=rt,t.CompleterListItemCmp=tt,t.CompleterService=K,t.CtrCompleter=Y,t.CtrDropdown=Z,t.CtrInput=G,t.CtrList=Q,t.CtrRow=X,t.LocalData=U,t.LocalDataFactory=$,t.Ng2CompleterModule=ot,t.RemoteData=z,t.RemoteDataFactory=q,t.\u0275a=W,t.\u0275b=B,Object.defineProperty(t,"__esModule",{value:!0})}));